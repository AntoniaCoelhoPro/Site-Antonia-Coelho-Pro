var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,l=(e,t)=>{for(var a in t||(t={}))i.call(t,a)&&s(e,a,t[a]);if(r)for(var a of r(t))n.call(t,a)&&s(e,a,t[a]);return e},o=(e,r)=>t(e,a(r));import{r as d}from"./vendor-BwcJvvGU.js";import{L as m}from"./router-CJp8lb1t.js";import{j as c}from"./index-C_dWAJfe.js";import{X as u}from"./icons-BpBQZzaB.js";import{A as x,m as p}from"./proxy-MViF7iZ-.js";const h=()=>{const[e,t]=d.useState(1),[a,r]=d.useState({faturamento:"",investimento:"",instagram:"",ramo:"",faz_trafego:"",objetivo:"",nome:"",email:"",telefone:"",utm_source:"",utm_medium:"",utm_campaign:"",utm_term:"",utm_content:""}),[i,n]=d.useState(""),[s,h]=d.useState(!1),[b,f]=d.useState(null);d.useEffect(()=>{window.scrollTo(0,0)},[e]),d.useEffect(()=>{if(b){const e=setTimeout(()=>f(null),3e3);return()=>clearTimeout(e)}},[b]),d.useEffect(()=>{const e=new URLSearchParams(window.location.search),t={utm_source:e.get("utm_source")||"",utm_medium:e.get("utm_medium")||"",utm_campaign:e.get("utm_campaign")||"",utm_term:e.get("utm_term")||"",utm_content:e.get("utm_content")||""};Object.values(t).some(e=>""!==e)&&r(e=>l(l({},e),t))},[]),d.useEffect(()=>{const t=t=>{if("Enter"===t.key){const t=document.querySelector(`.step[data-step="${e}"]`);if(t){const a=t.querySelectorAll("input");if(a.length>0){const t=a[a.length-1];document.activeElement!==t&&1!==a.length||(7===e?j():w())}}}};return document.addEventListener("keypress",t),()=>document.removeEventListener("keypress",t)},[e,a]);const g=(e,t)=>{r(a=>o(l({},a),{[e]:t})),b&&f(null)},v=(e,t)=>{g(e,t),w()},y=e=>{if(3===e){if(!a.instagram||a.instagram.length<3)return f("Por favor, informe seu Instagram."),!1;if(!(e=>{const t=e.trim().replace(/^@/,"").replace(/^(https?:\/\/)?(www\.)?instagram\.com\//,"").replace(/\/$/,"");return/^[a-zA-Z0-9._]{1,30}$/.test(t)})(a.instagram))return f("Instagram inválido. Use apenas letras, números, ponto (.) e underline (_)."),!1}if(4===e&&(!a.ramo||a.ramo.length<3))return f("Por favor, informe o ramo da sua empresa."),!1;if(7===e){if(!a.nome||a.nome.trim().split(" ").length<2)return f("Por favor, digite seu nome completo (nome e sobrenome)."),!1;if(t=a.email,!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return f("Por favor, insira um e-mail válido."),!1;if(!(e=>{const t=e.replace(/\D/g,"");return t.length>=10&&t.length<=11})(a.telefone))return f("Por favor, insira um WhatsApp válido com DDD (ex: 11 99999-9999)."),!1}var t;return!0},w=()=>{y(e)&&t(e=>e+1)},j=()=>{return r=void 0,n=null,s=function*(){if(y(e)){if(i)return h(!0),void setTimeout(()=>{h(!1),t(8)},1e3);h(!0);try{if(!(yield fetch("https://dev-manager-01-n8n.ekupxt.easypanel.host/webhook/leadssite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o(l({},a),{submittedAt:(new Date).toISOString(),source:"quiz-site"}))})).ok)throw new Error("Falha ao enviar dados.");if("function"==typeof window.fbq){const e="R$ 50k - 200k / mês"===a.faturamento||"Acima de R$ 200k / mês"===a.faturamento,t="5k"===a.investimento||"5k+"===a.investimento;e&&t?window.fbq("trackCustom","Lead_qualificado",{category:"Submission",revenue:a.faturamento,investment:a.investimento}):window.fbq("trackCustom","Lead_desqualificado",{category:"Submission",revenue:a.faturamento,investment:a.investimento})}t(8)}catch(r){f("Ocorreu um erro ao enviar. Tente novamente.")}finally{h(!1)}}},new Promise((e,t)=>{var a=e=>{try{l(s.next(e))}catch(a){t(a)}},i=e=>{try{l(s.throw(e))}catch(a){t(a)}},l=t=>t.done?e(t.value):Promise.resolve(t.value).then(a,i);l((s=s.apply(r,n)).next())});var r,n,s},N=(e-1)/7*100,z={enter:{opacity:0,x:20},center:{opacity:1,x:0},exit:{opacity:0,x:-20}};return c.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center overflow-hidden relative bg-quiz-dark font-sans text-white p-4 md:p-6",children:[c.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-64 h-64 md:w-96 md:h-96 bg-quiz-primary/20 rounded-full blur-[80px] md:blur-[128px]"}),c.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-64 h-64 md:w-96 md:h-96 bg-quiz-accent/20 rounded-full blur-[80px] md:blur-[128px]"}),c.jsx(m,{to:"/",className:"fixed top-4 right-4 md:top-6 md:right-6 z-[60] p-2 bg-white/10 hover:bg-white/20 text-white/70 hover:text-white rounded-full transition-all backdrop-blur-sm shadow-lg border border-white/5","aria-label":"Voltar ao site",children:c.jsx(u,{size:24})}),c.jsx("input",{type:"text",name:"website",style:{display:"none"},tabIndex:-1,autoComplete:"off",value:i,onChange:e=>n(e.target.value)}),c.jsx(x,{children:b&&c.jsxs(p.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-8 left-1/2 transform -translate-x-1/2 z-[60] bg-red-500/90 text-white px-6 py-3 rounded-xl shadow-lg backdrop-blur-sm border border-red-400/50 flex items-center gap-3",children:[c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("span",{className:"font-medium",children:b})]})}),e<8&&c.jsx("div",{className:"fixed top-0 left-0 w-full h-1.5 bg-gray-800/50 z-50 backdrop-blur-sm",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-quiz-primary to-quiz-accent transition-all duration-500 ease-in-out shadow-[0_0_15px_rgba(59,130,246,0.5)]",style:{width:`${N}%`}})}),c.jsxs("div",{className:"w-full max-w-md md:max-w-lg relative z-10",children:[c.jsx("div",{className:"min-h-[350px] md:min-h-[400px] flex flex-col justify-center",children:c.jsxs(x,{mode:"wait",children:[1===e&&c.jsxs(p.div,{className:"step w-full","data-step":"1",variants:z,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},children:[c.jsxs("h2",{className:"text-2xl md:text-3xl font-bold mb-4 md:mb-6 text-center leading-tight",children:["Qual é o ",c.jsx("span",{className:"text-quiz-primary",children:"faturamento atual"})," da sua empresa?"]}),c.jsx("div",{className:"space-y-3",children:["R$ 0 - 10k / mês","R$ 10k - 50k / mês","R$ 50k - 200k / mês","Acima de R$ 200k / mês"].map(e=>c.jsx("button",{type:"button",className:"option-btn w-full p-3 md:p-4 rounded-xl bg-quiz-secondary/30 border border-quiz-secondary hover:bg-quiz-primary hover:text-white transition-all duration-300 text-left text-base md:text-lg font-medium active:scale-[0.98]",onClick:()=>v("faturamento",e),children:e},e))})]},"step1"),2===e&&c.jsxs(p.div,{className:"step w-full","data-step":"2",variants:z,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},children:[c.jsxs("h2",{className:"text-2xl md:text-3xl font-bold mb-4 md:mb-6 text-center leading-tight",children:["Quanto pretende ",c.jsx("span",{className:"text-quiz-primary",children:"investir"})," em tráfego pago?"]}),c.jsx("div",{className:"space-y-3",children:[{val:"1k",label:"Até R$ 1.000 / mês"},{val:"2k",label:"R$ 1.000 a R$ 2.000"},{val:"5k",label:"R$ 2.000 a R$ 5.000"},{val:"5k+",label:"Acima de R$ 5.000"}].map(e=>c.jsx("button",{type:"button",className:"option-btn w-full p-3 md:p-4 rounded-xl bg-quiz-secondary/30 border border-quiz-secondary hover:bg-quiz-primary hover:text-white transition-all duration-300 text-left text-base md:text-lg font-medium active:scale-[0.98]",onClick:()=>v("investimento",e.val),children:e.label},e.val))})]},"step2"),3===e&&c.jsxs(p.div,{className:"step w-full","data-step":"3",variants:z,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},children:[c.jsxs("h2",{className:"text-2xl md:text-3xl font-bold mb-4 md:mb-6 text-center leading-tight",children:["Qual o ",c.jsx("span",{className:"text-quiz-primary",children:"Instagram"})," da sua empresa?"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("input",{type:"text",placeholder:"@seu.perfil",className:"w-full p-3 md:p-4 rounded-xl text-base md:text-lg text-center bg-quiz-secondary/20 border-quiz-secondary focus:ring-2 focus:ring-quiz-primary transition-all text-white border outline-none placeholder:text-gray-400",value:a.instagram,onChange:e=>g("instagram",e.target.value),autoFocus:!0}),c.jsx("button",{type:"button",className:"w-full p-3 md:p-4 rounded-xl bg-quiz-primary text-white font-bold text-base md:text-lg hover:bg-blue-400 transition-all shadow-lg shadow-quiz-primary/30 transform hover:-translate-y-1 active:scale-[0.98]",onClick:w,children:"Continuar"})]})]},"step3"),4===e&&c.jsxs(p.div,{className:"step w-full","data-step":"4",variants:z,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},children:[c.jsxs("h2",{className:"text-2xl md:text-3xl font-bold mb-4 md:mb-6 text-center leading-tight",children:["Qual é o ",c.jsx("span",{className:"text-quiz-primary",children:"ramo"})," da sua empresa?"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("input",{type:"text",placeholder:"Ex: E-commerce, Clínica, Imobiliária...",className:"w-full p-3 md:p-4 rounded-xl text-base md:text-lg text-center bg-quiz-secondary/20 border-quiz-secondary focus:ring-2 focus:ring-quiz-primary transition-all text-white border outline-none placeholder:text-gray-400",value:a.ramo,onChange:e=>g("ramo",e.target.value),autoFocus:!0}),c.jsx("button",{type:"button",className:"w-full p-3 md:p-4 rounded-xl bg-quiz-primary text-white font-bold text-base md:text-lg hover:bg-blue-400 transition-all shadow-lg shadow-quiz-primary/30 transform hover:-translate-y-1 active:scale-[0.98]",onClick:w,children:"Continuar"})]})]},"step4"),5===e&&c.jsxs(p.div,{className:"step w-full","data-step":"5",variants:z,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},children:[c.jsxs("h2",{className:"text-2xl md:text-3xl font-bold mb-4 md:mb-6 text-center leading-tight",children:["Você já faz ",c.jsx("span",{className:"text-quiz-primary",children:"tráfego pago"})," atualmente?"]}),c.jsx("div",{className:"space-y-3",children:["Sim, eu mesmo faço","Sim, tenho agência/gestor","Não, nunca fiz"].map(e=>c.jsx("button",{type:"button",className:"option-btn w-full p-3 md:p-4 rounded-xl bg-quiz-secondary/30 border border-quiz-secondary hover:bg-quiz-primary hover:text-white transition-all duration-300 text-left text-base md:text-lg font-medium active:scale-[0.98]",onClick:()=>v("faz_trafego",e),children:e},e))})]},"step5"),6===e&&c.jsxs(p.div,{className:"step w-full","data-step":"6",variants:z,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},children:[c.jsxs("h2",{className:"text-2xl md:text-3xl font-bold mb-4 md:mb-6 text-center leading-tight",children:["Qual seu ",c.jsx("span",{className:"text-quiz-primary",children:"objetivo principal"}),"?"]}),c.jsx("div",{className:"space-y-3",children:["Vender mais produtos","Captar mais leads","Ganhar seguidores/Branding","Outro"].map(e=>c.jsx("button",{type:"button",className:"option-btn w-full p-3 md:p-4 rounded-xl bg-quiz-secondary/30 border border-quiz-secondary hover:bg-quiz-primary hover:text-white transition-all duration-300 text-left text-base md:text-lg font-medium active:scale-[0.98]",onClick:()=>v("objetivo",e),children:e},e))})]},"step6"),7===e&&c.jsxs(p.div,{className:"step w-full","data-step":"7",variants:z,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},children:[c.jsxs("h2",{className:"text-2xl md:text-3xl font-bold mb-4 md:mb-6 text-center leading-tight",children:["Para finalizar, ",c.jsx("span",{className:"text-quiz-primary",children:"seus dados"}),":"]}),c.jsxs("div",{className:"space-y-3 md:space-y-4",children:[c.jsx("input",{type:"text",placeholder:"Seu Nome Completo",className:"w-full p-3 md:p-4 rounded-xl text-base md:text-lg bg-quiz-secondary/20 border-quiz-secondary focus:ring-2 focus:ring-quiz-primary transition-all text-white border outline-none placeholder:text-gray-400",value:a.nome,onChange:e=>g("nome",e.target.value)}),c.jsx("input",{type:"email",placeholder:"Seu E-mail Profissional",className:"w-full p-3 md:p-4 rounded-xl text-base md:text-lg bg-quiz-secondary/20 border-quiz-secondary focus:ring-2 focus:ring-quiz-primary transition-all text-white border outline-none placeholder:text-gray-400",value:a.email,onChange:e=>g("email",e.target.value)}),c.jsx("input",{type:"tel",placeholder:"WhatsApp (com DDD)",className:"w-full p-3 md:p-4 rounded-xl text-base md:text-lg bg-quiz-secondary/20 border-quiz-secondary focus:ring-2 focus:ring-quiz-primary transition-all text-white border outline-none placeholder:text-gray-400",value:a.telefone,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,11);let a=t;t.length>2&&(a=`(${t.slice(0,2)}) ${t.slice(2)}`),t.length>6&&(a=`(${t.slice(0,2)}) ${t.slice(2,7)}${t.length>7?"-"+t.slice(7):""}`);const r=t;r.length>10?a=`(${r.slice(0,2)}) ${r.slice(2,7)}-${r.slice(7)}`:r.length>6?a=`(${r.slice(0,2)}) ${r.slice(2,6)}-${r.slice(6)}`:r.length>2?a=`(${r.slice(0,2)}) ${r.slice(2)}`:r.length>0&&(a=`(${r}`),g("telefone",a)},maxLength:15}),c.jsx("button",{type:"button",className:"w-full p-3 md:p-4 rounded-xl bg-gradient-to-r from-quiz-primary to-quiz-accent text-white font-bold text-lg md:text-xl hover:from-blue-400 hover:to-blue-600 transition-all shadow-xl shadow-quiz-primary/30 transform hover:-translate-y-1 mt-4 flex items-center justify-center active:scale-[0.98]",onClick:j,disabled:s,children:s?c.jsxs(c.Fragment,{children:[c.jsx("span",{children:"Analisando..."}),c.jsx("span",{className:"animate-spin ml-2",children:"⏳"})]}):"Receber Análise Gratuita"})]})]},"step7"),8===e&&c.jsxs(p.div,{className:"step w-full text-center","data-step":"8",variants:z,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},children:[c.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-500/30",children:c.jsx("svg",{className:"w-10 h-10 md:w-12 md:h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),c.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Cadastro Recebido!"}),c.jsx("p",{className:"text-gray-300 text-base md:text-lg mb-8",children:"Nossa IA está analisando seu perfil e entraremos em contato em breve."}),c.jsx(m,{to:"/",className:"inline-block px-8 py-3 rounded-xl bg-white/10 hover:bg-white/20 border border-white/20 text-white font-semibold transition-all hover:scale-105 mt-4",children:"Voltar ao Início"})]},"step8")]})}),c.jsxs("div",{className:"flex justify-between mt-8 min-h-[48px]",children:[e<8&&c.jsxs("button",{onClick:()=>{e>1&&t(e=>e-1)},disabled:1===e,className:`\n                            px-4 py-2 md:px-6 md:py-2 rounded-lg font-medium transition-all duration-300 flex items-center gap-2 text-sm md:text-base\n                            ${1===e?"opacity-0 cursor-default":"bg-gray-700/50 hover:bg-gray-700 text-white"}\n                        `,children:[c.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Voltar"]}),e<8&&c.jsxs("button",{onClick:w,className:"px-4 py-2 md:px-6 md:py-2 rounded-lg bg-quiz-primary text-white font-medium hover:bg-blue-600 transition-all duration-300 flex items-center gap-2 text-sm md:text-base",children:["Avançar",c.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]})]})};export{h as default};
